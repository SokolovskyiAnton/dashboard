(window.webpackJsonp=window.webpackJsonp||[]).push([[20,3,5,7,21],{292:function(t,e,n){var content=n(295);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(59).default)("00815680",content,!0,{sourceMap:!1})},293:function(t,e,n){var content=n(297);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(59).default)("f798e9c0",content,!0,{sourceMap:!1})},294:function(t,e,n){"use strict";n(292)},295:function(t,e,n){var r=n(58)(!1);r.push([t.i,".card{padding:10px}",""]),t.exports=r},296:function(t,e,n){"use strict";n(293)},297:function(t,e,n){var r=n(58)(!1);r.push([t.i,".page{padding:30px}",""]),t.exports=r},298:function(t,e,n){"use strict";n.r(e);n(294);var r=n(55),component=Object(r.a)({},(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"card"},[t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},299:function(t,e,n){"use strict";n.r(e);n(296);var r=n(55),component=Object(r.a)({},(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"page"},[t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},300:function(t,e,n){"use strict";n.r(e);var r={name:"Table",props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},actions:{type:Array,default:function(){return[]}}}},c=n(55),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("#")]),t._v(" "),t._l(t.columns,(function(e,r){var c=e.name;return n("th",{key:r},[t._v("\n                "+t._s(c)+"\n            ")])})),t._v(" "),0!==t.actions.length?n("th",[t._v("Действия")]):t._e()],2)]),t._v(" "),n("tbody",t._l(t.data,(function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(r+1))]),t._v(" "),t._l(t.columns,(function(r,c){var o=r.key;return n("td",{key:"column-"+c},[t._v("\n                "+t._s(e[o])+"\n            ")])})),t._v(" "),t._l(t.actions,(function(r,c){var o=r.className,label=r.label,l=r.edit,d=r.keyItem;return n("td",{key:"columns-"+c},[n("button",{class:o,on:{click:function(n){return t.$emit(l,{id:e[d]})}}},[t._v(t._s(label))])])}))],2)})),0)])}),[],!1,null,null,null);e.default=component.exports},309:function(t,e,n){"use strict";n.r(e),n.d(e,"columns",(function(){return r})),n.d(e,"actions",(function(){return c}));var r=[{key:"title",name:"Название продутка"},{key:"amount",name:"Количество товара"},{key:"price",name:"Цена"}],c=[{className:"btn btn-warning",edit:"onEdit",label:"Изменить",keyItem:"_id"},{className:"btn btn-danger",edit:"onDelete",label:"Удалить",keyItem:"_id"}]},323:function(t,e,n){"use strict";n.r(e);var r=n(12),c=n(0),o=(n(46),n(18),n(36),n(43),n(4),n(3),n(1),n(5),n(2),n(6),n(72)),l=n(309);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"Products",middleware:"auth",data:function(){return{actions:l.actions,columns:l.columns}},components:{MyTable:function(){return Promise.resolve().then(n.bind(null,300))},Card:function(){return Promise.resolve().then(n.bind(null,298))},Page:function(){return Promise.resolve().then(n.bind(null,299))}},mounted:function(){this.fetchProducts()},methods:f(f({},Object(o.b)({fetchProducts:"product/fetchProducts",productDelete:"product/productDelete"})),{},{handleEdit:function(t){var e=t.id;this.$router.push("products/form/".concat(e))},handleDelete:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.id,n.next=3,e.productDelete(r);case 3:e.fetchProducts();case 4:case"end":return n.stop()}}),n)})))()}}),computed:f({},Object(o.c)({products:"product/products"}))},v=n(55),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("page",[n("card",[n("h2",{staticClass:"text-center"},[t._v("Продукты")]),t._v(" "),n("nuxt-link",{staticClass:"btn btn-success",attrs:{to:"products/form"}},[t._v("Создать товар")]),t._v(" "),n("my-table",{attrs:{actions:t.actions,columns:t.columns,data:t.products},on:{onEdit:t.handleEdit,onDelete:t.handleDelete}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{MyTable:n(300).default,Card:n(298).default,Page:n(299).default})}}]);